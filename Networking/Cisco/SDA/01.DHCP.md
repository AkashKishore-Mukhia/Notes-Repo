# DHCP(Dynamic Host Configuration Protocol)

**Types of DHCP procot** \
we have two flavor of DHCP -> DHCPv4, DHCPv6

## DHCPv4
- As the name suggest used for ipv4 addresses.
- Uses port 67 for server
- Uses port 68 for client

- **DHCP client server handshake diagram**
![DHCP hand shake](https://www.computernetworkingnotes.com/wp-content/uploads/ccna-study-guide/images/csg68-01-how-dhcp-works.png)

- **DHCP address allocation methods**
    - Dynamic:
        - Most common, ip address leased for a fixed period of time.
    - Automatic:
        - Assigns a permanent ip address using DORA method
    - Manual:
        - Adminstrator manualy assigns address based on MAC address

- **DHCP Lease Time Events**
    - T1 Timer expires (50% of lease) 
        - Client goes to Renewing state 
        - Sends DHCPREQUEST to server
    - 2 Timer expires (87.5% of lease)
        - Transitions to Rebinding state
        - Client broadcasts DHCPREQUEST
        - Only servers that have seen the client responds Lease expires
    - Client releases address 
        - Transitions to INIT state 
        - Starts lease process "from scratch"




